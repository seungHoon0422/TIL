 # Web Server vs WAS

<br>


## 1. 정적 페이지와 동적 페이지

- Static Page

> 바뀌지 않는 페이지

웹서버는 파일 경로 이름을 받고, 경로와 일치하는 file contents 를 반환함



- Dynamic Page

> 인자에 따라 바뀌는 페이지

웹 서버에 의해 실행되는 프로그램을 통해 만들어진 결과물, (Servlet : was 위에서 돌아가는 자바 프로그램)


<br>


## 2. 웹서버와 WAS의 차이

![img](https://gmlwjd9405.github.io/images/web/webserver-vs-was1.png)

<br>


#### 웹 서버

개념적으로 하드웨어와 소프트웨어로 구분

**하드웨어** : Web 서버가 설치되어 있는 컴퓨터

**소프트웨어** : 웹 브라우저 클라이언트로부터 HTTP 요청을 받고, 정적인 컨텐츠(html, css 등)를 제공하는 컴퓨터 프로그램

<br>


#### 웹 서버 기능

> HTTP 프로토콜을 기반으로, 클라이언트의 요청을 서비스하는 기능을 담당

- 정적 컨텐츠 제공 : WAS를 거치지 않고 바로 제공
- 동적 컨텐츠 제공을 위한 요청 전달 : 클라이언트 요청을 WAS에 보내고, WAS에서 처리한 결과를 클라이언트에 전달



웹 서버의 종류 : Apache, Nginx, IIS 등

<br>


#### WAS

Web Application Server의 약자

> DB 조회 및 다양한 로직 처리 요구시 동적인 컨텐츠를 제공하기 위해 만들어진 애플리케이션 서버

HTTP 프로토콜을 통해 애플리케이션을 수행시켜주는 미들웨어이다.

WAS는 Web Container, Servlet Container라고도 불린다.



웹 서버의 기능들을 구조적으로 분리하여 처리하는 역할

> 보안, 스레드 처리, 분산 트랜잭션 등 분산 환경에서 사용됨 ( 주로 DB 서버와 함께 사용 )

<br>


#### WAS 주요 기능

1.프로그램 실행 환경 및 DB 접속 기능 제공

2.여러 트랜잭션 관리 기능

3.업무 처리하는 비즈니스 로직 수행



**WAS 종류** : Tomcat, JBoss 등

<br>


## 3 . 그러면 WAS로 모든 페이지 처리를 하면 안되나요??

<br>

**안됩니다!**

<br>

### 웹서버가 필요한 이유

- 정적 컨텐츠만 처리하도록 기능을 분배해서 서버 부담을 줄여주는 것
- 요청에 맞는 데이터를 DB에서 가져와 비즈니스 로직에 맞게 결과를 만들고 제공하는 역할만 하기도 바쁘다.



### WAS가 필요한 이유

- 웹 서버만으로 클라이언트 요청을 예측하여 정적인 페이지를 모두 만들어놓고 바로바로 제공하기에는 자원이 부족

- 따라서 WAS를 통해 요청이 들어올 때마다 DB와 비즈니스 로직을 통해 결과물을 만들어서 제공

<br>


## 결론
> - WAS는 DB조회, 다양한 로직 처리에 집중해야 한다. 단순 정적 컨텐츠는 웹서버에게 맡기며 기능을 분리시켜 서버 부하를 방지
>
> - WAS가 정적 컨텐츠 요청까지 처리하게 되면 부하가 커지게되고, 동적 컨텐츠 처리가 지연되면서 수행속도 저하
>
>   => 페이지 노출시간이 늘어나는 문제가 발생
>
> 

또한, 여러 대의 WAS를 연결지어 사용이 가능하다.

웹 서버를 앞 단에 두고, WAS에 오류가 발생하면 사용자가 이용하지 못하게 막아둔 뒤 재시작하여 해결할 수 있다. (사용자는 오류를 느끼지 못하고 이용 가능)


자원 이용의 효율성 및 장애 극복, 배포 및 유지 보수의 편의성 때문에 웹 서버와 WAS를 분리해서 사용한다.







## Reference

- https://gyoogle.dev/blog/web-knowledge/Web%20Server%EC%99%80%20WAS%EC%9D%98%20%EC%B0%A8%EC%9D%B4.html#wasB